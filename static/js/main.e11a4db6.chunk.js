(this.webpackJsonpasteroids=this.webpackJsonpasteroids||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(6),i=n.n(c),s=(n(13),n(5)),o=n.n(s),l=n(7),u=n(2),d=n(0);function j(e){var t,n=e.neo;function a(e){switch(e){case!0:return"yes";case!1:return"no";default:return"???"}}function r(e){return e+" m"}return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:n.id}),Object(d.jsx)("td",{children:n.name}),Object(d.jsx)("td",{children:r(n.minDiameter)}),Object(d.jsx)("td",{children:r(n.maxDiameter)}),Object(d.jsx)("td",{children:function(e){var t=e?"danger":"";return Object(d.jsx)("span",{className:t,children:a(e)})}(n.isHazardous)}),Object(d.jsx)("td",{children:a(n.isSentry)}),Object(d.jsx)("td",{children:(t=n.velocity,t+" km/hr")}),Object(d.jsx)("td",{children:function(e){return e+" km"}(n.missDistance)}),Object(d.jsx)("td",{children:n.magnitude}),Object(d.jsx)("td",{children:n.approachDate})]})}var b=n(8);function f(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],i=e.sorters.find((function(t){return t.dataIndex===e.dataIndex})),s=[];e.filters.forEach((function(t,n){t.dataIndex===e.dataIndex&&s.push(Object(b.a)({index:n},t))}));var o=e.colToFilter&&e.colToFilter.dataIndex===e.dataIndex;return Object(d.jsxs)("th",{onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},className:o?"settingFilter":"",children:[e.text,Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)("img",{alt:"filter icon",className:r||o?"":"hidden",onClick:function(t){0!==e.neos.length&&e.setColToFilter({text:e.text,type:e.type,dataIndex:e.dataIndex,x:t.clientX,y:t.clientY})},src:"https://img.icons8.com/ios/20/000000/filter--v1.png"}),Object(d.jsx)("div",{className:r||o||i?"sortButton":"hidden sortButton",onClick:function(){if(0!==e.neos.length){var t=JSON.parse(JSON.stringify(e.sorters));i?"ASC"===i.direction?(t=t.filter((function(t){return t.dataIndex!==e.dataIndex}))).push({dataIndex:e.dataIndex,direction:"DESC",type:e.type}):t=t.filter((function(t){return t.dataIndex!==e.dataIndex})):t.push({dataIndex:e.dataIndex,direction:"ASC",type:e.type}),e.setSorters(t)}},children:i?"ASC"===i.direction?Object(d.jsx)("span",{children:"\u2191\u2191"}):"DESC"===i.direction?Object(d.jsx)("span",{children:"\u2193\u2193"}):void 0:Object(d.jsx)("span",{children:"\u2191\u2193"})})]}),s.map((function(t){return Object(d.jsx)(x,{filter:t,filters:e.filters,setFilters:e.setFilters},"".concat(t.dataIndex,"-").concat(t.comparator,"-").concat(t.value,"}"))}))]})}function x(e){return Object(d.jsxs)("div",{onClick:function(){var t=JSON.parse(JSON.stringify(e.filters));t.splice(e.filter.index,1),e.setFilters(t)},className:"filter",children:[Object(d.jsx)("span",{className:"danger",children:"\u2716"}),Object(d.jsx)("span",{children:e.filter.comparator}),Object(d.jsx)("span",{children:e.filter.value})]})}function h(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return a<=6048e5&&a>0}var p=n(3),m={eq:{name:"equals",value:"="},neq:{name:"does not equal",value:"!="},con:{name:"contains",value:"%"},ncon:{name:"does not contain",value:"!%"},gt:{name:"greater than",value:">"},gte:{name:"greater than or equal to",value:">="},lt:{name:"less than",value:"<"},lte:{name:"less than or equal to",value:"<="},at:{name:"at",value:"="},nat:{name:"not at",value:"!="},bef:{name:"before",value:"<"},atOrBef:{name:"at or before",value:"<="},aft:{name:"after",value:">"},atOrAft:{name:"at or after",value:">="}};function O(e){var t=e.colToFilter,n=e.setColToFilter,r=e.filters,c=e.setFilters,i=t.x,s=t.y,o=Object(a.useState)(function(){if("string"===t.type)return"%";return"="}()),l=Object(u.a)(o,2),j=l[0],b=l[1],f=Object(a.useState)(function(){switch(t.type){case"bool":return"true";case"date":return(new Date).toISOString().split(":").slice(0,2);default:return""}}()),x=Object(u.a)(f,2),h=x[0],O=x[1];function v(e){O(e.target.value)}var g=[],y=null;switch(t.type){case"bool":g=[m.eq,m.neq],y=Object(d.jsxs)("select",{value:h,onChange:v,children:[Object(d.jsx)("option",{value:"true",children:"yes"}),Object(d.jsx)("option",{value:"false",children:"no"})]});break;case"number":g=[m.eq,m.neq,m.gt,m.gte,m.lt,m.lte],y=Object(d.jsx)("input",{type:"number",value:h,onChange:v});break;case"string":g=[m.eq,m.neq,m.con,m.ncon],y=Object(d.jsx)("input",{type:"text",value:h,onChange:v});break;case"date":g=[m.at,m.nat,m.bef,m.atOrBef,m.aft,m.atOrAft],y=Object(d.jsx)("input",{type:"datetime-local",step:"60",value:h,onChange:v});break;default:alert("bad type passed: ".concat(t.type))}return Object(d.jsxs)("div",{className:"newFilter",style:function(){var e,t="left";return s=80,i>window.innerWidth/2&&(i=window.innerWidth-i,t="right"),e={},Object(p.a)(e,t,i),Object(p.a)(e,"top",s),e}(),children:[Object(d.jsxs)("h3",{children:["Add Filter: ",Object(d.jsx)("span",{className:"normal",children:t.text})," "]}),Object(d.jsx)("select",{value:j,onChange:function(e){b(e.target.value)},children:g.map((function(e){return Object(d.jsx)("option",{value:e.value,children:e.name},"opt-".concat(e.value,"-").concat(e.name))}))}),y,Object(d.jsx)("button",{onClick:function(){var e=JSON.parse(JSON.stringify(r));e.push({dataIndex:t.dataIndex,type:t.type,value:h,comparator:j}),c(e),n(null)},children:"Add Filter"}),Object(d.jsx)("button",{onClick:function(){n(null)},children:"Cancel"})]})}var v=[{text:"Id",dataIndex:"id",type:"number"},{text:"Name",dataIndex:"name",type:"string"},{text:"Min. Diameter",dataIndex:"minDiameter",type:"number"},{text:"Max. Diameter",dataIndex:"maxDiameter",type:"number"},{text:"Is Hazardous",dataIndex:"isHazardous",type:"bool"},{text:"is Sentry",dataIndex:"isSentry",type:"bool"},{text:"Velocity",dataIndex:"velocity",type:"number"},{text:"Miss Distance",dataIndex:"missDistance",type:"number"},{text:"Magnitude",dataIndex:"magnitude",type:"number"},{text:"Approach Date",dataIndex:"approachDate",type:"date"}],g={"=":function(e,t,n){return function(a){var r=n(a[t]);return console.log("targetColumn",typeof r),console.log("comparendum",typeof e),r===e}},"!=":function(e,t,n){return function(a){return n(a[t])!==e}},"%":function(e,t,n){return function(a){return n(a[t]).includes(e)}},"!%":function(e,t,n){return function(a){return!n(a[t]).includes(e)}},">":function(e,t,n){return function(a){return n(a[t])>e}},">=":function(e,t,n){return function(a){return n(a[t])>=e}},"<":function(e,t,n){return function(a){return n(a[t])<e}},"<=":function(e,t,n){return function(a){return n(a[t])<=e}}},y={ASC:function(e,t){return function(n,a){return t(n[e])-t(a[e])}},DESC:function(e,t){return function(n,a){return t(a[e])-t(n[e])}}},S={ASC:function(e,t){return function(n,a){return(n=t(n[e]))<(a=t(a[e]))?-1:n>a?1:0}},DESC:function(e,t){return function(n,a){return(n=t(n[e]))>(a=t(a[e]))?-1:n<a?1:0}}},I=function(e){return"true"===e.toLowerCase()},C=function(e){return e.toUpperCase()},D=function(e){return e},k=function(e){return Number(e)},F=function(e){return new Date(e).getTime()};var N=function(){var e=Object(a.useState)(function(){var e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]}()),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)((new Date).toISOString().split("T")[0]),i=Object(u.a)(c,2),s=i[0],b=i[1],x=Object(a.useState)([]),p=Object(u.a)(x,2),m=p[0],N=p[1],_=Object(a.useState)([]),w=Object(u.a)(_,2),T=w[0],E=w[1],q=Object(a.useState)([]),A=Object(u.a)(q,2),J=A[0],B=A[1],M=Object(a.useState)([]),z=Object(u.a)(M,2),H=z[0],L=z[1],W=Object(a.useState)(0),G=Object(u.a)(W,2),P=G[0],U=G[1],V=Object(a.useState)(0),X=Object(u.a)(V,2),R=X[0],Y=X[1],Z=Object(a.useState)(null),K=Object(u.a)(Z,2),Q=K[0],$=K[1],ee=Object(a.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1];function re(){return(re=Object(l.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!0),e.next=3,fetch("https://api.nasa.gov/neo/rest/v1/feed?start_date=".concat(n,"&end_date=").concat(s,"&api_key=0gOBH2q4BND9twW9s1E3pxpWZU5LXGJNvlgxilk9"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r=[],Object.values(a.near_earth_objects).flat().forEach((function(e){e.close_approach_data.forEach((function(t){r.push({id:e.id,name:e.name,minDiameter:e.estimated_diameter.meters.estimated_diameter_min,maxDiameter:e.estimated_diameter.meters.estimated_diameter_max,isHazardous:e.is_potentially_hazardous_asteroid,isSentry:e.is_sentry_object,velocity:t.relative_velocity.kilometers_per_hour,missDistance:t.miss_distance.kilometers,magnitude:e.absolute_magnitude_h,approachDate:t.close_approach_date_full})}))})),B(r),U(r.length),ae(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(J.length){var e=JSON.parse(JSON.stringify(J));m.forEach((function(t){e=e.filter(function(e){var t,n=e.dataIndex,a=e.comparator,r=e.value,c=e.type,i=D;switch(c){case"string":t=C(r),i=C;break;case"bool":t=I(r);break;case"number":t=k(r),i=k;break;case"date":t=F(r),i=F;break;default:console.log("bad type passed to buildFilterCallback: "+c)}return g[a](t,n,i)}(t))})),T.forEach((function(t){e.sort(function(e){var t,n=e.dataIndex,a=e.direction,r=e.type,c=y;switch(r){case"string":t=C,c=S;break;case"bool":case"number":t=D;break;case"date":t=F;break;default:console.log("bad type passed to buildSorterCallback: "+r)}return c[a](n,t)}(t))})),L(e),Y(e.length)}}),[m,T,J]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{id:"loader",className:ne?"":"hidden"}),Object(d.jsxs)("div",{id:"controls",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Near Earth Objects Data Viewer"}),Object(d.jsx)("p",{className:"counts",children:"showing ".concat(R," of ").concat(P)})]}),Object(d.jsxs)("div",{className:"flex-row",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"start",children:"Start Date:"}),Object(d.jsx)("input",{name:"start",type:"date",value:n,onChange:function(e){r(e.target.value)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"end",children:"End Date:"}),Object(d.jsx)("input",{name:"end",type:"date",value:s,onChange:function(e){b(e.target.value)}})]}),h(n,s)?null:Object(d.jsx)("span",{className:"danger",children:"Date Range must be <= 7 days and >= 0 days"}),Object(d.jsx)("button",{onClick:function(){return re.apply(this,arguments)},disabled:ne||!h(n,s),children:"Get Data"})]}),Object(d.jsx)("div",{children:Q?Object(d.jsx)(O,{colToFilter:Q,setColToFilter:$,filters:m,setFilters:N}):null})]})]}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:v.map((function(e){return Object(d.jsx)(f,{text:e.text,dataIndex:e.dataIndex,type:e.type,neos:J,filters:m,setFilters:N,sorters:T,setSorters:E,colToFilter:Q,setColToFilter:$},"colhead-".concat(e.dataIndex))}))})}),Object(d.jsx)("tbody",{children:H.map((function(e,t){return Object(d.jsx)(j,{neo:e},"".concat(e.id,"-").concat(t))}))})]}),Object(d.jsx)("a",{href:"https://icons8.com/icon/3004/filter",children:"Filter icon by Icons8"})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),_()}},[[16,1,2]]]);
//# sourceMappingURL=main.e11a4db6.chunk.js.map